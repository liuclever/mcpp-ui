<!--pages/community/topic.wxml-->
<view class="topic-page">
  <!-- 话题标题 -->
  <view class="topic-header">
    <text class="topic-tag">#{{topic}}</text>
    <text class="topic-count">{{videos.length}} 个视频</text>
  </view>

  <!-- 视频网格列表 -->
  <view class="video-grid" wx:if="{{!isEmpty}}">
    <view class="grid-column">
      <block wx:for="{{videos}}" wx:key="id" wx:if="{{index % 2 === 0}}">
        <view class="video-item" bindtap="onVideoTap" data-index="{{index}}">
          <image class="video-cover" src="{{item.coverUrl}}" mode="aspectFill" />
          <view class="video-info">
            <text class="video-title">{{item.title}}</text>
            <view class="video-stats">
              <view class="stat-item">
                <image class="stat-icon" src="/assets/icons/视频点赞-0.png" mode="aspectFit" />
                <text>{{item.likes}}</text>
              </view>
              <view class="stat-item">
                <image class="stat-icon" src="/assets/icons/视频播放-0.png" mode="aspectFit" />
                <text>{{item.views}}</text>
              </view>
            </view>
          </view>
        </view>
      </block>
    </view>
    <view class="grid-column">
      <block wx:for="{{videos}}" wx:key="id" wx:if="{{index % 2 === 1}}">
        <view class="video-item" bindtap="onVideoTap" data-index="{{index}}">
          <image class="video-cover" src="{{item.coverUrl}}" mode="aspectFill" />
          <view class="video-info">
            <text class="video-title">{{item.title}}</text>
            <view class="video-stats">
              <view class="stat-item">
                <image class="stat-icon" src="/assets/icons/视频点赞-0.png" mode="aspectFit" />
                <text>{{item.likes}}</text>
              </view>
              <view class="stat-item">
                <image class="stat-icon" src="/assets/icons/视频播放-0.png" mode="aspectFit" />
                <text>{{item.views}}</text>
              </view>
            </view>
          </view>
        </view>
      </block>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{isEmpty && !loading}}">
    <image class="empty-icon" src="/assets/icons/warning.png" mode="aspectFit" />
    <text class="empty-text">该话题暂无视频</text>
  </view>

  <!-- 加载状态 -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">加载中...</text>
  </view>

  <!-- 没有更多 -->
  <view class="no-more" wx:if="{{!hasMore && videos.length > 0 && !loading}}">
    <text>没有更多了</text>
  </view>
</view>
