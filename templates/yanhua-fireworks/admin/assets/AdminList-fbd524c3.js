import{b as $,r as m,e as n,y as I,o as b,f as M,h as e,w as t,g as V,i as u,z as S,p as z,t as j,E as v,A as q}from"./index-1dad1f50.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const G={class:"page-container"},H={class:"card-header"},J=$({__name:"AdminList",setup(K){const k=m(!1),g=m([{id:1,username:"admin",nickname:"超级管理员",role:"super",status:1,createTime:"2024-01-01"},{id:2,username:"editor",nickname:"编辑员",role:"editor",status:1,createTime:"2024-01-02"}]),d=m(!1),o=m({id:0,username:"",nickname:"",password:"",role:"editor"}),y=()=>{o.value={id:0,username:"",nickname:"",password:"",role:"editor"},d.value=!0},w=r=>{o.value={...r,password:""},d.value=!0},C=r=>{if(r.role==="super"){v.warning("不能删除超级管理员");return}q.confirm("确定删除该管理员吗？","提示",{type:"warning"}).then(()=>{v.success("删除成功")})},x=()=>{v.success("保存成功"),d.value=!1};return(r,l)=>{const i=n("el-button"),s=n("el-table-column"),U=n("el-tag"),D=n("el-switch"),A=n("el-table"),B=n("el-card"),_=n("el-input"),p=n("el-form-item"),f=n("el-option"),E=n("el-select"),T=n("el-form"),L=n("el-dialog"),N=I("loading");return b(),M("div",G,[e(B,{shadow:"never"},{header:t(()=>[V("div",H,[l[7]||(l[7]=V("span",null,"管理员列表",-1)),e(i,{type:"primary",onClick:y},{default:t(()=>[...l[6]||(l[6]=[u("新增管理员",-1)])]),_:1})])]),default:t(()=>[S((b(),z(A,{data:g.value,stripe:""},{default:t(()=>[e(s,{prop:"id",label:"ID",width:"80"}),e(s,{prop:"username",label:"用户名"}),e(s,{prop:"nickname",label:"昵称"}),e(s,{prop:"role",label:"角色"},{default:t(({row:a})=>[e(U,{type:a.role==="super"?"danger":"primary"},{default:t(()=>[u(j(a.role==="super"?"超级管理员":"编辑员"),1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"status",label:"状态"},{default:t(({row:a})=>[e(D,{modelValue:a.status,"onUpdate:modelValue":c=>a.status=c,"active-value":1,"inactive-value":0,disabled:a.role==="super"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:1}),e(s,{prop:"createTime",label:"创建时间"}),e(s,{label:"操作",width:"150"},{default:t(({row:a})=>[e(i,{type:"primary",link:"",onClick:c=>w(a)},{default:t(()=>[...l[8]||(l[8]=[u("编辑",-1)])]),_:1},8,["onClick"]),e(i,{type:"danger",link:"",onClick:c=>C(a),disabled:a.role==="super"},{default:t(()=>[...l[9]||(l[9]=[u("删除",-1)])]),_:1},8,["onClick","disabled"])]),_:1})]),_:1},8,["data"])),[[N,k.value]])]),_:1}),e(L,{modelValue:d.value,"onUpdate:modelValue":l[5]||(l[5]=a=>d.value=a),title:"管理员编辑",width:"500px"},{footer:t(()=>[e(i,{onClick:l[4]||(l[4]=a=>d.value=!1)},{default:t(()=>[...l[10]||(l[10]=[u("取消",-1)])]),_:1}),e(i,{type:"primary",onClick:x},{default:t(()=>[...l[11]||(l[11]=[u("保存",-1)])]),_:1})]),default:t(()=>[e(T,{model:o.value,"label-width":"100px"},{default:t(()=>[e(p,{label:"用户名"},{default:t(()=>[e(_,{modelValue:o.value.username,"onUpdate:modelValue":l[0]||(l[0]=a=>o.value.username=a),disabled:o.value.id>0},null,8,["modelValue","disabled"])]),_:1}),e(p,{label:"昵称"},{default:t(()=>[e(_,{modelValue:o.value.nickname,"onUpdate:modelValue":l[1]||(l[1]=a=>o.value.nickname=a)},null,8,["modelValue"])]),_:1}),e(p,{label:"密码","label-width":100},{default:t(()=>[e(_,{modelValue:o.value.password,"onUpdate:modelValue":l[2]||(l[2]=a=>o.value.password=a),type:"password",placeholder:o.value.id>0?"留空则不修改":"请输入密码"},null,8,["modelValue","placeholder"])]),_:1}),e(p,{label:"角色"},{default:t(()=>[e(E,{modelValue:o.value.role,"onUpdate:modelValue":l[3]||(l[3]=a=>o.value.role=a)},{default:t(()=>[e(f,{label:"超级管理员",value:"super"}),e(f,{label:"编辑员",value:"editor"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});const Q=F(J,[["__scopeId","data-v-9672c926"]]);export{Q as default};
